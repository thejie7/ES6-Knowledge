<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //generator函数 可以通过yield关键字，将函数挂起暂停，为改变执行流程提供了可能
        //感觉像是将函数的一步行为变成了可以控制的好几步
        //它与普通函数的区别
        //一是，function关键字与函数名之间有一个星号 * ；二是，函数体内部使用yield表达式
        function* fn() {
            console.log("第小一步");
            yield;
            console.log("第小二步");
            yield;
            console.log("第小三步");
            yield;
            console.log("完成一大步");
        }
        //返回一个生成器函数 可以调用next()
        let fun = fn()
        console.log(fun.next());//第小一步 {value: undefined, done: false}
        console.log(fun.next());//第小二步 {value: undefined, done: false}
        console.log(fun.next());//第小三步 {value: undefined, done: false}
        console.log(fun.next());//完成一大步 {value: undefined, done: true}

        //Generator 函数是分段执行的，yield是暂停执行标志，next()是恢复执行
        //当 next() 传入参数时，该参数就会被当作上一个 yield 表达式的返回值
        //yield相当于return但是不会结束函数
        function* add() {
            console.log("开始");
            let x = yield;
            console.log("x的值为" + x);
            let y = yield
            console.log("y的值为" + y);
            yield
            console.log("完成");
            return x + y;
        }
        let add1 = add();
        console.log(add1.next());
        console.log(add1.next(10));
        console.log(add1.next(20));
        console.log(add1.next());
    </script>
</body>

</html>